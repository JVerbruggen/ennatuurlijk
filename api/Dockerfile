FROM python:3.11-slim

ARG AZURE_TABLE_STORAGE_TABLE_NAME
ARG AZURE_TABLE_STORAGE_CONNECTION_STRING

ENV AZURE_TABLE_STORAGE_TABLE_NAME=${AZURE_TABLE_STORAGE_TABLE_NAME}
ENV AZURE_TABLE_STORAGE_CONNECTION_STRING=${AZURE_TABLE_STORAGE_CONNECTION_STRING}
ENV DEBUG_MODE=FALSE

ADD . .

RUN python -m pip install --no-cache-dir -r requirements.txt

EXPOSE 5000

CMD ["python", "./main.py"]
